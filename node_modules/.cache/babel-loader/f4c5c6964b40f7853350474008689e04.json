{"ast":null,"code":"import { createStore } from 'vuex';\nlet cart = localStorage.getItem('cart');\nlet count = localStorage.getItem('count');\nexport default createStore({\n  state() {\n    return {\n      count: count ? parseInt(count) : 0,\n      cart: cart ? JSON.parse(cart) : []\n    };\n  },\n\n  getters: {},\n  mutations: {\n    addToCart(state, item) {\n      let found = state.cart.find(product => product.key == item.key);\n\n      if (found) {\n        found.quantity++;\n        found.totalPrice = found.quantity * found.price;\n      } else {\n        state.cart.push(item);\n        state.count++;\n      }\n\n      this.commit('saveCart');\n    },\n\n    removeFromCart(state, item) {\n      let index = state.cart.indexOf(item);\n\n      if (index > -1) {\n        state.count--;\n        state.cart.splice(index, 1);\n        state.cart.splice();\n      }\n\n      this.commit('saveCart');\n    },\n\n    decrementQuentity(state, item) {\n      let found = state.cart.find(product => product.key == item.key);\n\n      if (found && found.quantity > 1) {\n        found.quantity--;\n        found.totalPrice = found.quantity * found.price;\n      }\n\n      this.commit('saveCart');\n    },\n\n    saveCart(state) {\n      localStorage.setItem('cart', JSON.stringify(state.cart));\n      localStorage.setItem('count', state.count);\n    },\n\n    resetCart(state) {\n      state.cart = [], state.count = 0, localStorage.setItem('cart', JSON.stringify(state.cart));\n      localStorage.setItem('count', state.count);\n    }\n\n  },\n  actions: {},\n  modules: {}\n});","map":{"version":3,"names":["createStore","cart","localStorage","getItem","count","state","parseInt","JSON","parse","getters","mutations","addToCart","item","found","find","product","key","quantity","totalPrice","price","push","commit","removeFromCart","index","indexOf","splice","decrementQuentity","saveCart","setItem","stringify","resetCart","actions","modules"],"sources":["/home/rani/Desktop/programmation/web dev/myprojectvuejs/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\nlet cart = localStorage.getItem('cart');\nlet count = localStorage.getItem('count');\nexport default createStore({\n  state() {\n    return {\n      count: count ? parseInt(count) : 0,\n      cart: cart ? JSON.parse(cart) : [],\n    }\n  },\n  getters: {\n  },\n  mutations: {\n\n    addToCart(state, item) {\n      let found = state.cart.find(product => product.key == item.key);\n\n      if (found) {\n        found.quantity++;\n        found.totalPrice = found.quantity * found.price;\n      } else {\n\n        state.cart.push(item);\n\n        state.count++;\n\n\n      }\n      this.commit('saveCart');\n    },\n    removeFromCart(state, item) {\n      let index = state.cart.indexOf(item);\n\n      if (index > -1) {\n\n        state.count--;\n\n        state.cart.splice(index, 1);\n        state.cart.splice()\n      }\n      this.commit('saveCart');\n    },\n    decrementQuentity(state, item) {\n\n      let found = state.cart.find(product => product.key == item.key);\n\n      if (found && found.quantity > 1) {\n        found.quantity--;\n        found.totalPrice = found.quantity * found.price;\n      }\n      this.commit('saveCart');\n    },\n    saveCart(state) {\n      localStorage.setItem('cart', JSON.stringify(state.cart));\n      localStorage.setItem('count', state.count);\n    },\n    resetCart(state) {\n      state.cart = [],\n        state.count = 0,\n        localStorage.setItem('cart', JSON.stringify(state.cart));\n      localStorage.setItem('count', state.count);\n    }\n  }\n  ,\n  actions: {\n  },\n  modules: {\n  }\n})\n"],"mappings":"AAAA,SAASA,WAAT,QAA4B,MAA5B;AACA,IAAIC,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX;AACA,IAAIC,KAAK,GAAGF,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;AACA,eAAeH,WAAW,CAAC;EACzBK,KAAK,GAAG;IACN,OAAO;MACLD,KAAK,EAAEA,KAAK,GAAGE,QAAQ,CAACF,KAAD,CAAX,GAAqB,CAD5B;MAELH,IAAI,EAAEA,IAAI,GAAGM,IAAI,CAACC,KAAL,CAAWP,IAAX,CAAH,GAAsB;IAF3B,CAAP;EAID,CANwB;;EAOzBQ,OAAO,EAAE,EAPgB;EASzBC,SAAS,EAAE;IAETC,SAAS,CAACN,KAAD,EAAQO,IAAR,EAAc;MACrB,IAAIC,KAAK,GAAGR,KAAK,CAACJ,IAAN,CAAWa,IAAX,CAAgBC,OAAO,IAAIA,OAAO,CAACC,GAAR,IAAeJ,IAAI,CAACI,GAA/C,CAAZ;;MAEA,IAAIH,KAAJ,EAAW;QACTA,KAAK,CAACI,QAAN;QACAJ,KAAK,CAACK,UAAN,GAAmBL,KAAK,CAACI,QAAN,GAAiBJ,KAAK,CAACM,KAA1C;MACD,CAHD,MAGO;QAELd,KAAK,CAACJ,IAAN,CAAWmB,IAAX,CAAgBR,IAAhB;QAEAP,KAAK,CAACD,KAAN;MAGD;;MACD,KAAKiB,MAAL,CAAY,UAAZ;IACD,CAjBQ;;IAkBTC,cAAc,CAACjB,KAAD,EAAQO,IAAR,EAAc;MAC1B,IAAIW,KAAK,GAAGlB,KAAK,CAACJ,IAAN,CAAWuB,OAAX,CAAmBZ,IAAnB,CAAZ;;MAEA,IAAIW,KAAK,GAAG,CAAC,CAAb,EAAgB;QAEdlB,KAAK,CAACD,KAAN;QAEAC,KAAK,CAACJ,IAAN,CAAWwB,MAAX,CAAkBF,KAAlB,EAAyB,CAAzB;QACAlB,KAAK,CAACJ,IAAN,CAAWwB,MAAX;MACD;;MACD,KAAKJ,MAAL,CAAY,UAAZ;IACD,CA7BQ;;IA8BTK,iBAAiB,CAACrB,KAAD,EAAQO,IAAR,EAAc;MAE7B,IAAIC,KAAK,GAAGR,KAAK,CAACJ,IAAN,CAAWa,IAAX,CAAgBC,OAAO,IAAIA,OAAO,CAACC,GAAR,IAAeJ,IAAI,CAACI,GAA/C,CAAZ;;MAEA,IAAIH,KAAK,IAAIA,KAAK,CAACI,QAAN,GAAiB,CAA9B,EAAiC;QAC/BJ,KAAK,CAACI,QAAN;QACAJ,KAAK,CAACK,UAAN,GAAmBL,KAAK,CAACI,QAAN,GAAiBJ,KAAK,CAACM,KAA1C;MACD;;MACD,KAAKE,MAAL,CAAY,UAAZ;IACD,CAvCQ;;IAwCTM,QAAQ,CAACtB,KAAD,EAAQ;MACdH,YAAY,CAAC0B,OAAb,CAAqB,MAArB,EAA6BrB,IAAI,CAACsB,SAAL,CAAexB,KAAK,CAACJ,IAArB,CAA7B;MACAC,YAAY,CAAC0B,OAAb,CAAqB,OAArB,EAA8BvB,KAAK,CAACD,KAApC;IACD,CA3CQ;;IA4CT0B,SAAS,CAACzB,KAAD,EAAQ;MACfA,KAAK,CAACJ,IAAN,GAAa,EAAb,EACEI,KAAK,CAACD,KAAN,GAAc,CADhB,EAEEF,YAAY,CAAC0B,OAAb,CAAqB,MAArB,EAA6BrB,IAAI,CAACsB,SAAL,CAAexB,KAAK,CAACJ,IAArB,CAA7B,CAFF;MAGAC,YAAY,CAAC0B,OAAb,CAAqB,OAArB,EAA8BvB,KAAK,CAACD,KAApC;IACD;;EAjDQ,CATc;EA6DzB2B,OAAO,EAAE,EA7DgB;EA+DzBC,OAAO,EAAE;AA/DgB,CAAD,CAA1B"},"metadata":{},"sourceType":"module"}