{"ast":null,"code":"import { getFirestore, collection, query, where, getDocs } from \"firebase/firestore\";\nimport router from \"../router\";\nconst db = getFirestore();\nexport default {\n  name: \"detailsView\",\n\n  data() {\n    return {\n      product: {\n        key: \"\",\n        name: \"\",\n        brand: \"\",\n        description: \"\",\n        price: \"\",\n        image: \"\",\n        quantity: 1,\n        totalPrice: \"\"\n      },\n      dataProduct: {\n        name: \"\",\n        price: 0,\n        image: \"\",\n        brand: \"\",\n        description: \"\",\n        key: \"\"\n      },\n      productDetaills: false\n    };\n  },\n\n  created() {\n    // const docRef = doc(db, \"products\", this.$route.params.id);\n    // getDoc(docRef).then((docSnap) => {\n    //   if (docSnap.exists()) {\n    //     console.log(\"Document data:\", docSnap.data());\n    //   } else {\n    //     console.log(\"No such document!\");\n    //   }\n    // });\n    const x = this.$route.params.id;\n    const q = query(collection(db, \"products\"), where(\"name\", \"==\", this.$route.params.id));\n    getDocs(q).then(docSnap => {\n      docSnap.forEach(doc => {\n        this.product.name = doc.data().name;\n        this.product.brand = doc.data().brand;\n        this.product.price = doc.data().price;\n        this.product.description = doc.data().description;\n        this.product.image = doc.data().image;\n        this.product.key = doc.id;\n        this.product.quantity = 1;\n        this.product.totalPrice = doc.data().price;\n        this.query = doc.data();\n        this.productDetaills = true;\n      });\n    }).then(() => {\n      if (this.product.name == \"\") {\n        router.push({\n          name: \"LinkNotFound\",\n          params: {\n            id: x\n          }\n        });\n      }\n    });\n  },\n\n  methods: {\n    addToCart(item) {\n      this.$store.commit(\"addToCart\", item);\n    },\n\n    getData(name, brand, price, description, image, key) {\n      this.dataProduct.name = name;\n      this.dataProduct.brand = brand;\n      this.dataProduct.price = price;\n      this.dataProduct.description = description;\n      this.dataProduct.image = image;\n      this.dataProduct.key = key;\n    },\n\n    Gotocart() {\n      router.push(\"/cart\");\n      document.getElementById(\"close\").click();\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["getFirestore","collection","query","where","getDocs","router","db","name","data","product","key","brand","description","price","image","quantity","totalPrice","dataProduct","productDetaills","created","x","$route","params","id","q","then","docSnap","forEach","doc","push","methods","addToCart","item","$store","commit","getData","Gotocart","document","getElementById","click"],"sourceRoot":"","sources":["/home/rani/Desktop/programmation/web dev/myprojectvuejs/src/views/ProductDetails.vue"],"sourcesContent":["<template>\n  <br />\n  <div\n    class=\"mt-5\"\n    style=\"margin-top: 1rem !important\"\n    v-if=\"productDetaills == true\"\n  >\n    <div class=\"card\">\n      <div class=\"row g-0\">\n        <div class=\"col-md-6 border-end\">\n          <div class=\"d-flex flex-column justify-content-center\">\n            <div class=\"main_image\">\n              <img :src=\"product.image\" id=\"main_product_image\" width=\"350\" />\n            </div>\n            <div class=\"thumbnail_images\">\n              <ul id=\"thumbnail\">\n                <li>\n                  <img\n                    onclick=\"changeImage(this)\"\n                    :src=\"product.image\"\n                    width=\"70\"\n                  />\n                </li>\n                <li>\n                  <img\n                    onclick=\"changeImage(this)\"\n                    :src=\"product.image\"\n                    width=\"70\"\n                  />\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-6\">\n          <div class=\"p-3 right-side\">\n            <div class=\"d-flex justify-content-between align-items-center\">\n              <h3>{{ product.name }}</h3>\n            </div>\n\n            <h3 style=\"color: #005eb8; font-size: xxx-large\">\n              {{ product.price }} DT\n            </h3>\n            <div class=\"mt-2 pr-3 content\" style=\"margin-top: 1rem !important\">\n              <p style=\"font-size: 16px\">\n                {{ product.description }}\n              </p>\n            </div>\n            <div class=\"ratings d-flex flex-row align-items-center\">\n              <div class=\"d-flex flex-row\">\n                <i class=\"bx bxs-star\"></i> <i class=\"bx bxs-star\"></i>\n                <i class=\"bx bxs-star\"></i> <i class=\"bx bxs-star\"></i>\n                <i class=\"bx bx-star\"></i>\n              </div>\n              <span>441 reviews</span>\n            </div>\n            <div class=\"mt-5\">\n              <div class=\"r\" style=\"display: flex; margin: auto\">\n                <span class=\"fw-bold\">Status: </span>\n                <img\n                  src=\"../assets/icons8_done_48px.png\"\n                  style=\"margin-left: 15px; width: 23px\"\n                />\n                <span id=\"exampleModalLabel\" />\n                Available\n              </div>\n            </div>\n            <br />\n            <div class=\"buttons d-flex flex-row mt-5 gap-3\">\n              <div class=\"row\" style=\"margin-top: -30px\">\n                <div>\n                  <h5>Quantity</h5>\n                </div>\n                <div class=\"d-flex flex-row\">\n                  <button\n                    class=\"btn btn-link px-2\"\n                    style=\"width: 30px\"\n                    @click=\"product.quantity--\"\n                  >\n                    <i class=\"fas fa-minus\"></i>\n                  </button>\n\n                  <input\n                    id=\"form1\"\n                    min=\"1\"\n                    name=\"quantity\"\n                    :value=\"product.quantity\"\n                    type=\"number\"\n                    class=\"form-control form-control-sm\"\n                    style=\"width: 53px\"\n                  />\n\n                  <button\n                    class=\"btn btn-link px-2\"\n                    style=\"width: 30px\"\n                    @click=\"product.quantity++\"\n                  >\n                    <i class=\"fas fa-plus\"></i>\n                  </button>\n                </div>\n              </div>\n              <button\n                class=\"btn btn-dark\"\n                style=\"background: #2970da\"\n                data-bs-toggle=\"modal\"\n                data-bs-target=\"#exampleModal\"\n                @click=\"\n                  addToCart(item),\n                    getData(\n                      item.name,\n                      item.brand,\n                      item.price,\n                      item.description,\n                      item.image,\n                      item.key\n                    )\n                \"\n              >\n                Add to cart\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div v-else class=\"d-flex justify-content-center\">\n    <div class=\"spinner-border\" role=\"status\">\n      <span class=\"sr-only\">Loading...</span>\n    </div>\n  </div>\n  <!-- Modal -->\n  <div\n    class=\"modal fade\"\n    id=\"exampleModal\"\n    tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog\">\n      <div class=\"modal-content\" style=\"border: black\">\n        <div class=\"modal-header\" style=\"background: #242121; color: white\">\n          <div class=\"r\" style=\"display: flex; margin: auto\">\n            <img src=\"../assets/icons8_Done_64px_1.png\" style=\"height: 31px\" />\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n              Product added to cart successfully\n            </h5>\n          </div>\n        </div>\n        <div class=\"modal-body\" style=\"display: flex\">\n          <div class=\"card mb-3\" style=\"max-width: 540px\">\n            <div class=\"row g-0\">\n              <div class=\"col-md-4\">\n                <img\n                  :src=\"dataProduct.image\"\n                  class=\"img-fluid rounded-start\"\n                  alt=\"...\"\n                />\n              </div>\n              <div class=\"col-md-8\">\n                <div class=\"card-body\">\n                  <h5 class=\"card-title\">{{ dataProduct.name }}</h5>\n                  <h6 class=\"card-text\">{{ dataProduct.brand }}</h6>\n                  <br />\n                  <h6 class=\"card-text\">Price : {{ dataProduct.price }} DT</h6>\n                  <p class=\"card-text\">\n                    There are {{ $store.state.count }} items in your cart.\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            id=\"close\"\n            class=\"btn btn-dark\"\n            data-bs-dismiss=\"modal\"\n          >\n            Continue shopping\n          </button>\n          <button type=\"submit\" class=\"btn btn-dark\" @click=\"Gotocart\">\n            Order\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- Modal -->\n</template>\n<script>\nimport {\n  getFirestore,\n  collection,\n  query,\n  where,\n  getDocs,\n} from \"firebase/firestore\";\nimport router from \"../router\";\nconst db = getFirestore();\n\nexport default {\n  name: \"detailsView\",\n  data() {\n    return {\n      product: {\n        key: \"\",\n        name: \"\",\n        brand: \"\",\n        description: \"\",\n        price: \"\",\n        image: \"\",\n        quantity: 1,\n        totalPrice: \"\",\n      },\n      dataProduct: {\n        name: \"\",\n        price: 0,\n        image: \"\",\n        brand: \"\",\n        description: \"\",\n        key: \"\",\n      },\n      productDetaills: false,\n    };\n  },\n  created() {\n    // const docRef = doc(db, \"products\", this.$route.params.id);\n    // getDoc(docRef).then((docSnap) => {\n    //   if (docSnap.exists()) {\n    //     console.log(\"Document data:\", docSnap.data());\n\n    //   } else {\n    //     console.log(\"No such document!\");\n    //   }\n    // });\n    const x = this.$route.params.id;\n    const q = query(\n      collection(db, \"products\"),\n      where(\"name\", \"==\", this.$route.params.id)\n    );\n\n    getDocs(q)\n      .then((docSnap) => {\n        docSnap.forEach((doc) => {\n          this.product.name = doc.data().name;\n          this.product.brand = doc.data().brand;\n          this.product.price = doc.data().price;\n          this.product.description = doc.data().description;\n          this.product.image = doc.data().image;\n          this.product.key = doc.id;\n          this.product.quantity = 1;\n          this.product.totalPrice = doc.data().price;\n          this.query = doc.data();\n          this.productDetaills = true;\n        });\n      })\n      .then(() => {\n        if (this.product.name == \"\") {\n          router.push({\n            name: \"LinkNotFound\",\n            params: { id: x },\n          });\n        }\n      });\n  },\n  methods: {\n    addToCart(item) {\n      this.$store.commit(\"addToCart\", item);\n    },\n    getData(name, brand, price, description, image, key) {\n      this.dataProduct.name = name;\n      this.dataProduct.brand = brand;\n      this.dataProduct.price = price;\n      this.dataProduct.description = description;\n      this.dataProduct.image = image;\n      this.dataProduct.key = key;\n    },\n    Gotocart() {\n      router.push(\"/cart\");\n      document.getElementById(\"close\").click();\n    },\n  },\n};\n</script>\n<style>\n.card {\n  border: none;\n  overflow: hidden;\n}\n.thumbnail_images ul {\n  list-style: none;\n  justify-content: center;\n  display: flex;\n  align-items: center;\n  margin-top: 10px;\n}\n.thumbnail_images ul li {\n  margin: 5px;\n  padding: 10px;\n  border: 2px solid #eee;\n  cursor: pointer;\n  transition: all 0.5s;\n}\n.thumbnail_images ul li:hover {\n  border: 2px solid #000;\n}\n.main_image {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-bottom: 1px solid #eee;\n  height: 400px;\n  width: 100%;\n  overflow: hidden;\n}\n\n.content p {\n  font-size: 12px;\n}\n.ratings span {\n  font-size: 14px;\n  margin-left: 6px;\n}\n.colors {\n  margin-top: 5px;\n}\n.colors ul {\n  list-style: none;\n  display: flex;\n  padding-left: 0px;\n}\n.colors ul li {\n  height: 20px;\n  width: 20px;\n  display: flex;\n  border-radius: 50%;\n  margin-right: 10px;\n  cursor: pointer;\n}\n.colors ul li:nth-child(1) {\n  background-color: #6c704d;\n}\n.colors ul li:nth-child(2) {\n  background-color: #96918b;\n}\n.colors ul li:nth-child(3) {\n  background-color: #68778e;\n}\n.colors ul li:nth-child(4) {\n  background-color: #263f55;\n}\n.colors ul li:nth-child(5) {\n  background-color: black;\n}\n.right-side {\n  position: relative;\n}\n\n.buttons .btn {\n  height: 50px;\n  width: 150px;\n  border-radius: 0px !important;\n}\n</style>"]},"metadata":{},"sourceType":"module"}